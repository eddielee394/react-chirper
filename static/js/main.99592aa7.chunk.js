(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(217)},215:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(76),o=a.n(i),s=a(24),c=a(8),l=a(21),u=a(14),m=a(115),d={janedoe:{id:"janedoe",name:"Jane Doe",avatarURL:"http://i.pravatar.cc/50?img=48",tweets:["8xf0y6ziyjabvozdd253nd","hbsc73kzqi75rg7v1e0i6a","2mb6re13q842wu8n106bhk","6h5ims9iks66d4m7kqizmv","3sklxkf9yyfowrf0o1ftbb"]},joeschmoe:{id:"joeschmoe",name:"Joe Schmoe",avatarURL:"http://i.pravatar.cc/50?img=50",tweets:["5c9qojr2d1738zlx09afby","f4xzgapq7mu783k9t02ghx","nnvkjqoevs8t02lzcc0ky","4pt0px8l0l9g6y69ylivti","fap8sdxppna8oabnxljzcv","leqp4lzfox7cqvsgdj0e7","26p5pskqi88i58qmza2gid","xi3ca2jcfvpa0i3t4m7ag"]},johnfoo:{id:"johnfoo",name:"John Foo",avatarURL:"http://i.pravatar.cc/50?img=22",tweets:["5w6k1n34dkp1x29cuzn2zn","czpa59mg577x1oo45cup0d","omdbjl68fxact38hk7ypy6","3km0v4hf1ps92ajf4z2ytg","njv20mq7jsxa6bgsqc97","sfljgka8pfddbcer8nuxv","r0xu2v1qrxa6ygtvf2rkjw"]}},p={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",text:"Shoutout to all the speakers I know for whom English is not a first language, but can STILL explain a concept well. It's hard enough to give a good talk in your mother tongue!",author:"janedoe",timestamp:1518122597860,likes:["joeschmoe"],replies:["fap8sdxppna8oabnxljzcv","3km0v4hf1ps92ajf4z2ytg"],replyingTo:null},"5c9qojr2d1738zlx09afby":{id:"5c9qojr2d1738zlx09afby",text:"I hope one day the propTypes pendulum swings back. Such a simple yet effective API. Was one of my favorite parts of React.",author:"joeschmoe",timestamp:1518043995650,likes:["janedoe","johnfoo"],replies:["njv20mq7jsxa6bgsqc97"],replyingTo:null},f4xzgapq7mu783k9t02ghx:{id:"f4xzgapq7mu783k9t02ghx",text:"Want to work at Facebook/Google/:BigCompany? Start contributing code long before you ever interview there.",author:"joeschmoe",timestamp:1517043995650,likes:["johnfoo"],replies:[],replyingTo:null},hbsc73kzqi75rg7v1e0i6a:{id:"hbsc73kzqi75rg7v1e0i6a",text:"Puppies 101: buy a hamper with a lid on it.",author:"janedoe",timestamp:1516043995650,likes:["joeschmoe"],replies:["leqp4lzfox7cqvsgdj0e7","sfljgka8pfddbcer8nuxv"],replyingTo:null},"5w6k1n34dkp1x29cuzn2zn":{id:"5w6k1n34dkp1x29cuzn2zn",text:"Is there a metric like code coverage, but that shows lines that, if changed (in a syntactically correct way), wouldn\u2019t cause tests to fail?",author:"johnfoo",timestamp:1515043995650,likes:["janedoe"],replies:[],replyingTo:null},czpa59mg577x1oo45cup0d:{id:"czpa59mg577x1oo45cup0d",text:"React came out 'rethinking best practices'. It has since accumulated 'best practices' of its own. Let\u2019s see if we can do better.",author:"johnfoo",timestamp:1515043995650,likes:["joeschmoe","janedoe"],replies:["3sklxkf9yyfowrf0o1ftbb"],replyingTo:null},"2mb6re13q842wu8n106bhk":{id:"2mb6re13q842wu8n106bhk",text:"I think I realized I like dogs so much because I can really relate to being motivated by snacks",author:"janedoe",timestamp:1514043995650,likes:["johnfoo"],replies:["26p5pskqi88i58qmza2gid"],replyingTo:null},nnvkjqoevs8t02lzcc0ky:{id:"nnvkjqoevs8t02lzcc0ky",text:"Maybe the real benefit of open source was the friendships we made along the way?",author:"joeschmoe",timestamp:1513043995650,likes:[],replies:[],replyingTo:null},omdbjl68fxact38hk7ypy6:{id:"omdbjl68fxact38hk7ypy6",text:"A 7-minute Paul Joseph Watson video being translated and aired by a Russian state TV channel is the most surreal thing I\u2019ve seen in 2018 yet",author:"johnfoo",timestamp:1512043995650,likes:[],replies:[],replyingTo:null},"4pt0px8l0l9g6y69ylivti":{id:"4pt0px8l0l9g6y69ylivti",text:"Talking less about the downsides of OSS and focusing on some of the huge potential upsides for once might just help get more people into it.",author:"joeschmoe",timestamp:1511043995650,likes:["johnfoo"],replies:[],replyingTo:null},"6h5ims9iks66d4m7kqizmv":{id:"6h5ims9iks66d4m7kqizmv",text:"By the way, if you have a blog post sitting around and want to get some eyes on it, we take guest submissions! That's how I started.",author:"janedoe",timestamp:1510043995650,likes:["johnfoo","joeschmoe"],replies:["xi3ca2jcfvpa0i3t4m7ag","r0xu2v1qrxa6ygtvf2rkjw"],replyingTo:null},fap8sdxppna8oabnxljzcv:{id:"fap8sdxppna8oabnxljzcv",author:"joeschmoe",text:"I agree. I'm always really impressed when I see someone giving a talk in a language that's not their own.",timestamp:1518122677860,likes:["janedoe"],replyingTo:"8xf0y6ziyjabvozdd253nd",replies:[]},"3km0v4hf1ps92ajf4z2ytg":{id:"3km0v4hf1ps92ajf4z2ytg",author:"johnfoo",text:"It can be difficult at times.",timestamp:1518122667860,likes:[],replyingTo:"8xf0y6ziyjabvozdd253nd",replies:[]},njv20mq7jsxa6bgsqc97:{id:"njv20mq7jsxa6bgsqc97",author:"johnfoo",text:"Sometimes you have to sacrifice simplicity for power.",timestamp:1518044095650,likes:["joeschmoe"],replyingTo:"5c9qojr2d1738zlx09afby",replies:[]},leqp4lzfox7cqvsgdj0e7:{id:"leqp4lzfox7cqvsgdj0e7",author:"joeschmoe",text:"Also trashcans. Learned this the hard way.",timestamp:1516043255650,likes:[],replyingTo:"hbsc73kzqi75rg7v1e0i6a",replies:[]},sfljgka8pfddbcer8nuxv:{id:"sfljgka8pfddbcer8nuxv",author:"johnfoo",text:"Puppies are the best.",timestamp:1516045995650,likes:["janedoe","joeschmoe"],replyingTo:"hbsc73kzqi75rg7v1e0i6a",replies:[]},"3sklxkf9yyfowrf0o1ftbb":{id:"3sklxkf9yyfowrf0o1ftbb",author:"janedoe",text:"The idea of best practices being a negative thing is an interesting concept.",timestamp:1515044095650,likes:["johnfoo"],replyingTo:"czpa59mg577x1oo45cup0d",replies:[]},"26p5pskqi88i58qmza2gid":{id:"26p5pskqi88i58qmza2gid",author:"joeschmoe",text:"Too relatable",timestamp:1514044994650,likes:["janedoe"],replyingTo:"2mb6re13q842wu8n106bhk",replies:[]},xi3ca2jcfvpa0i3t4m7ag:{id:"xi3ca2jcfvpa0i3t4m7ag",author:"joeschmoe",text:"Just DMd you!",timestamp:1510043995650,likes:[],replyingTo:"6h5ims9iks66d4m7kqizmv",replies:[]},r0xu2v1qrxa6ygtvf2rkjw:{id:"r0xu2v1qrxa6ygtvf2rkjw",author:"johnfoo",text:"This is a great idea.",timestamp:1510044395650,likes:["joeschmoe"],replyingTo:"6h5ims9iks66d4m7kqizmv",replies:[]}};function h(e){var t=e.author,a=e.text,n=e.replyingTo,r=void 0===n?null:n;return{author:t,id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),likes:[],replies:[],text:a,timestamp:Date.now(),replyingTo:r}}function f(){return Promise.all([new Promise(function(e,t){setTimeout(function(){return e(Object(u.a)({},d))},1e3)}),new Promise(function(e,t){setTimeout(function(){return e(Object(u.a)({},p))},1e3)})]).then(function(e){var t=Object(m.a)(e,2);return{users:t[0],tweets:t[1]}})}function b(e){return function(e){var t=e.id,a=e.hasLiked,n=e.authUser;return new Promise(function(e,r){setTimeout(function(){p=Object(u.a)({},p,Object(l.a)({},t,Object(u.a)({},p[t],{likes:!0===a?p[t].likes.filter(function(e){return e!==n}):p[t].likes.concat([n])}))),e()},500)})}(e)}function g(e){return function(e){var t=e.text,a=e.author,n=e.replyingTo;return new Promise(function(e,r){var i=h({text:t,author:a,replyingTo:n});setTimeout(function(){p=Object(u.a)({},p,Object(l.a)({},i.id,i)),d=Object(u.a)({},d,Object(l.a)({},a,Object(u.a)({},d[a],{tweets:d[a].tweets.concat([i.id])}))),e(i)},1e3)})}(e)}var v=a(20),j=a.n(v),y=a(29),k=function(e){return{type:"TOGGLE_TWEET",id:e.id,authUser:e.authUser,hasLiked:e.hasLiked}},w=function(e){return function(t){return t(k(e)),b(e).catch(function(a){console.warn("Error in handleToggleTweet: ",a),t(k(e)),Object(y.toast)("There was an error liking the tweet.  Try again.",{type:"error",className:"alert-danger"})})}},x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(n,r){var i=r().authUser;return n(Object(v.showLoading)()),g({text:e,author:i,replyingTo:t}).then(function(e){return n(function(e){return{type:"ADD_TWEET",tweet:e}}(e))}).then(function(){n(Object(v.hideLoading)()),Object(y.toast)("Your tweet was successfully added",{type:"success",className:"alert-success",onClose:a})}).catch(function(e){console.warn("Error in handleAddTweet: ",e),Object(y.toast)("There was an error adding the tweet.  Try again.",{type:"error",className:"alert-danger"})})}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_TWEETS":return Object(u.a)({},e,t.tweets);case"TOGGLE_TWEET":return Object(u.a)({},e,Object(l.a)({},t.id,Object(u.a)({},e[t.id],{likes:!0===t.hasLiked?e[t.id].likes.filter(function(e){return e!==t.authUser}):e[t.id].likes.concat(t.authUser)})));case"ADD_TWEET":var a=t.tweet,n={};return null!==a.replyingTo&&(n=Object(l.a)({},a.replyingTo,Object(u.a)({},e[a.replyingTo],{replies:e[a.replyingTo].replies.concat([a.id])}))),Object(u.a)({},e,Object(l.a)({},t.tweet.id,t.tweet),n);default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_USERS":return Object(u.a)({},e,t.users);default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return t.id;default:return e}},z=Object(s.c)({tweets:E,users:O,authUser:T,loadingBar:v.loadingBarReducer}),q=function(e){return function(t){return function(a){console.group(a.type),console.log("The action: ",a);var n=t(a);return console.log("The new state: ",e.getState()),console.groupEnd(),n}}},N=a(108),S=Object(s.a)(N.a,q),L=a(15),C=a(16),U=a(18),I=a(17),R=a(19),D=a(52),P=a(51),A=a(1),_=a.n(A),W=a(109),B=Object(c.connect)(function(e){return{loading:e.loading}})(function(e){var t=e.loading;return r.a.createElement("div",{className:"text-center justify-content-center my-4"},r.a.createElement(W.ScaleLoader,{color:"#00c6ff",loading:t}))}),J=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",redirectOnSubmit:!1},a.handleChange=function(e){var t=e.target.value;a.setState(function(){return{text:t}})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.text,n=a.props,r=n.dispatch,i=n.id;r(x(t,i,a.handleRedirectOnSubmit)),a.setState({text:"",redirectOnSubmit:!i})},a.handleRedirectOnSubmit=function(){!0===a.state.redirectOnSubmit&&a.setRedirectOnSubmit("/dashboard")},a.setRedirectOnSubmit=function(e){return a.props.history.push(e)},a}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state.text,t=280-e.length,a=t<=100&&r.a.createElement("div",{className:"tweet-length"},t);return r.a.createElement("div",{className:"new-tweet-container"},r.a.createElement("div",{className:"title-container text-center"},r.a.createElement("h3",null,"Compose new tweet")),r.a.createElement("div",{className:"new-tweet-form-container"},r.a.createElement("form",{className:"new-tweet",onSubmit:this.handleSubmit},r.a.createElement("textarea",{className:"textarea",maxLength:200,placeholder:"What's the word, bird???",value:e,onChange:this.handleChange}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:""===e},"Submit"),a)))}}]),t}(n.Component),M=Object(c.connect)()(J),G=a(221),V=a(220),Y=a(59),F=function(e){return r.a.createElement(G.a,{bg:"light",expand:"lg"},r.a.createElement(Y.LinkContainer,{exact:!0,to:"/",activeClassName:"nav-brand-active"},r.a.createElement(G.a.Brand,null,"React-Chirper")),r.a.createElement(G.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(G.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(V.a,{className:"mr-auto"},r.a.createElement(Y.LinkContainer,{exact:!0,to:"/dashboard"},r.a.createElement(V.a.Link,null,"Dashboard")),r.a.createElement(Y.LinkContainer,{exact:!0,to:"/new"},r.a.createElement(V.a.Link,null,"New Tweet")))))},H=a(81),K=a.n(H);function Q(e,t,a,n){var r=e.id,i=e.likes,o=e.replies,s=e.text,c=e.timestamp,l=t.name,u=t.avatarURL;return{name:l,id:r,text:s,timestamp:function(e){var t=new Date(e),a=K.a.utc(t).local().format("M/DD/YYYY");return K.a.utc(e).local().format("h:mm A")+" | "+a}(c),avatar:u,likes:i.length,replies:o.length,hasLiked:i.includes(a),parent:n?{author:n.author,id:n.id}:null}}var X=a(210),Z=a(60),$=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).handleLike=function(e){e.preventDefault();var t=a.props,n=t.dispatch,r=t.tweet,i=t.authUser;n(w({id:r.id,hasLiked:r.hasLiked,authUser:i}))},a}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.tweet,t=0!==e.replies&&e.replies,a=0!==e.likes&&e.likes,n=!0===e.hasLiked?r.a.createElement(Z.b,{className:"tweet-icon-liked"}):r.a.createElement(Z.c,null);return r.a.createElement("div",{className:"tweet-icons"},r.a.createElement(X.b.Provider,{value:{className:"tweet-icon"}},r.a.createElement(Z.a,null),r.a.createElement("span",null,t),r.a.createElement("button",{className:"heart-button",onClick:this.handleLike},n),r.a.createElement("span",null,a)))}}]),t}(n.Component),ee=Object(c.connect)()($),te=a(50),ae=a(58),ne=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(U.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).toParent=function(e,t){e.preventDefault(),a.props.history.push("/tweet/".concat(t))},a}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.tweet,n=t.authUser;if(null===a)return r.a.createElement("p",null,"This tweet doesn't exist.");var i=a.id,o=a.name,s=a.avatar,c=a.timestamp,l=a.text,u=a.parent,m=u&&r.a.createElement("span",null,r.a.createElement("button",{className:"replying-to font-weight-light",onClick:function(t){return e.toParent(t,u.id)}},r.a.createElement("small",null,"Replying to @",u.author)));return r.a.createElement(te.a,{to:"/tweet/".concat(i),className:"tweet"},r.a.createElement("img",{className:"avatar",src:s}),r.a.createElement("div",{className:"tweet-info"},r.a.createElement("div",{className:"tweet-body d-flex flex-column"},r.a.createElement("span",null,o),r.a.createElement("span",null,c),m,r.a.createElement("p",null,l)),r.a.createElement(ee,{tweet:a,authUser:n})))}}]),t}(n.Component);var re=Object(ae.a)(Object(c.connect)(function(e,t){var a=e.authUser,n=e.users,r=e.tweets,i=r[t.id],o=i?r[i.replyingTo]:null;return{authUser:a,tweet:i?Q(i,n[i.author],a,o):null}})(ne)),ie=function(e){function t(){return Object(L.a)(this,t),Object(U.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.tweetIds;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"dashboard--container"},r.a.createElement("ul",{className:"dashboard-list"},e.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(re,{id:e}))})))))}}]),t}(n.Component);var oe=Object(c.connect)(function(e){var t=e.tweets;return{tweetIds:Object.keys(t).sort(function(e,a){return t[a].timestamp-t[e].timestamp})}})(ie),se=function(e){function t(){return Object(L.a)(this,t),Object(U.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.replies,n=0!==a.length&&r.a.createElement("div",{className:"tweet-replies-container"},r.a.createElement("h5",{className:"center font-weight-bold"},"Replies"),r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",{key:t},r.a.createElement(re,{id:e}))})));return r.a.createElement(r.a.Fragment,null,n)}}]),t}(n.Component);var ce=Object(c.connect)(function(e,t){var a=e.tweets,n=t.id;return{id:n,replies:a[n]?a[n].replies.sort(function(e,t){return a[t].timestamp-a[e].timestamp}):[]}})(se),le=function(e){function t(){return Object(L.a)(this,t),Object(U.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 my-2"},r.a.createElement(re,{id:e}))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12 col-lg-8"},r.a.createElement(M,{id:e}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 my-2"},r.a.createElement(ce,{id:e}))))}}]),t}(n.Component);var ue=Object(c.connect)(function(e,t){return e.authUser,e.tweets,e.users,{id:t.match.params.id}})(le),me=function(e){function t(){return Object(L.a)(this,t),Object(U.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(function(e){return e(Object(v.showLoading)()),f().then(function(t){var a=t.users,n=t.tweets;e(function(e){return{type:"RECEIVE_USERS",users:e}}(a)),e(function(e){return{type:"RECEIVE_TWEETS",tweets:e}}(n)),e({type:"SET_AUTH_USER",id:"joeschmoe"}),e(Object(v.hideLoading)())})})}},{key:"render",value:function(){var e=this.props.loading;return r.a.createElement(D.a,null,r.a.createElement("div",{className:"main h-100v"},r.a.createElement(j.a,null),r.a.createElement(F,null),!0===e?r.a.createElement("div",{className:"container d-flex justify-content-center h-100"},r.a.createElement("div",{className:"row justify-content-center align-self-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement(B,null)))):r.a.createElement("div",{className:"container"},r.a.createElement(P.a,{exact:!0,path:["/","/dashboard"],component:oe}),r.a.createElement(P.a,{exact:!0,path:"/new",component:M}),r.a.createElement(P.a,{exact:!0,path:"/tweet/:id",component:ue})),r.a.createElement(y.ToastContainer,{transition:y.Slide,newestOnTop:!0,hideProgressBar:!0,autoClose:1500})))}}]),t}(n.Component);P.a.propTypes={path:_.a.oneOfType([_.a.string,_.a.array])};var de=Object(c.connect)(function(e){return{loading:null===e.authUser}})(me),pe=(a(211),a(213),a(215),Object(s.d)(z,S));o.a.render(r.a.createElement(c.Provider,{store:pe},r.a.createElement(de,null)),document.getElementById("root"))}},[[116,2,1]]]);
//# sourceMappingURL=main.99592aa7.chunk.js.map